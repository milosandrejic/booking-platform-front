// Material Design 3 SCSS Mixins

// Typography mixins based on Material Design 3 Type Scale
@mixin md-typescale($size, $line-height, $weight, $tracking, $font-family) {
  font-family: $font-family;
  font-size: $size;
  line-height: $line-height;
  font-weight: $weight;
  letter-spacing: $tracking;
}

// Display styles
@mixin md-typescale-display-large {
  @include md-typescale(
    $md-sys-typescale-display-large-size,
    $md-sys-typescale-display-large-line-height,
    $md-sys-typescale-display-large-weight,
    $md-sys-typescale-display-large-tracking,
    $md-sys-typescale-display-large-font
  );
}

@mixin md-typescale-display-medium {
  @include md-typescale(
    $md-sys-typescale-display-medium-size,
    $md-sys-typescale-display-medium-line-height,
    $md-sys-typescale-display-medium-weight,
    $md-sys-typescale-display-medium-tracking,
    $md-sys-typescale-display-medium-font
  );
}

@mixin md-typescale-display-small {
  @include md-typescale(
    $md-sys-typescale-display-small-size,
    $md-sys-typescale-display-small-line-height,
    $md-sys-typescale-display-small-weight,
    $md-sys-typescale-display-small-tracking,
    $md-sys-typescale-display-small-font
  );
}

// Headline styles
@mixin md-typescale-headline-large {
  @include md-typescale(
    $md-sys-typescale-headline-large-size,
    $md-sys-typescale-headline-large-line-height,
    $md-sys-typescale-headline-large-weight,
    $md-sys-typescale-headline-large-tracking,
    $md-sys-typescale-headline-large-font
  );
}

@mixin md-typescale-headline-medium {
  @include md-typescale(
    $md-sys-typescale-headline-medium-size,
    $md-sys-typescale-headline-medium-line-height,
    $md-sys-typescale-headline-medium-weight,
    $md-sys-typescale-headline-medium-tracking,
    $md-sys-typescale-headline-medium-font
  );
}

@mixin md-typescale-headline-small {
  @include md-typescale(
    $md-sys-typescale-headline-small-size,
    $md-sys-typescale-headline-small-line-height,
    $md-sys-typescale-headline-small-weight,
    $md-sys-typescale-headline-small-tracking,
    $md-sys-typescale-headline-small-font
  );
}

// Title styles
@mixin md-typescale-title-large {
  @include md-typescale(
    $md-sys-typescale-title-large-size,
    $md-sys-typescale-title-large-line-height,
    $md-sys-typescale-title-large-weight,
    $md-sys-typescale-title-large-tracking,
    $md-sys-typescale-title-large-font
  );
}

@mixin md-typescale-title-medium {
  @include md-typescale(
    $md-sys-typescale-title-medium-size,
    $md-sys-typescale-title-medium-line-height,
    $md-sys-typescale-title-medium-weight,
    $md-sys-typescale-title-medium-tracking,
    $md-sys-typescale-title-medium-font
  );
}

@mixin md-typescale-title-small {
  @include md-typescale(
    $md-sys-typescale-title-small-size,
    $md-sys-typescale-title-small-line-height,
    $md-sys-typescale-title-small-weight,
    $md-sys-typescale-title-small-tracking,
    $md-sys-typescale-title-small-font
  );
}

// Body styles
@mixin md-typescale-body-large {
  @include md-typescale(
    $md-sys-typescale-body-large-size,
    $md-sys-typescale-body-large-line-height,
    $md-sys-typescale-body-large-weight,
    $md-sys-typescale-body-large-tracking,
    $md-sys-typescale-body-large-font
  );
}

@mixin md-typescale-body-medium {
  @include md-typescale(
    $md-sys-typescale-body-medium-size,
    $md-sys-typescale-body-medium-line-height,
    $md-sys-typescale-body-medium-weight,
    $md-sys-typescale-body-medium-tracking,
    $md-sys-typescale-body-medium-font
  );
}

@mixin md-typescale-body-small {
  @include md-typescale(
    $md-sys-typescale-body-small-size,
    $md-sys-typescale-body-small-line-height,
    $md-sys-typescale-body-small-weight,
    $md-sys-typescale-body-small-tracking,
    $md-sys-typescale-body-small-font
  );
}

// Label styles
@mixin md-typescale-label-large {
  @include md-typescale(
    $md-sys-typescale-label-large-size,
    $md-sys-typescale-label-large-line-height,
    $md-sys-typescale-label-large-weight,
    $md-sys-typescale-label-large-tracking,
    $md-sys-typescale-label-large-font
  );
}

@mixin md-typescale-label-medium {
  @include md-typescale(
    $md-sys-typescale-label-medium-size,
    $md-sys-typescale-label-medium-line-height,
    $md-sys-typescale-label-medium-weight,
    $md-sys-typescale-label-medium-tracking,
    $md-sys-typescale-label-medium-font
  );
}

@mixin md-typescale-label-small {
  @include md-typescale(
    $md-sys-typescale-label-small-size,
    $md-sys-typescale-label-small-line-height,
    $md-sys-typescale-label-small-weight,
    $md-sys-typescale-label-small-tracking,
    $md-sys-typescale-label-small-font
  );
}

// Material Design 3 Button Component Mixins
@mixin md-comp-button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  position: relative;
  border: none;
  border-radius: $md-sys-shape-corner-extra-large;
  cursor: pointer;
  text-decoration: none;
  user-select: none;
  outline: none;
  overflow: hidden;
  transition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),
              background-color 280ms cubic-bezier(0.4, 0, 0.2, 1);
  
  &:disabled {
    cursor: not-allowed;
    opacity: 0.38;
  }
  
  // State layer overlay
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0;
    transition: opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
  }
  
  &:hover::before {
    opacity: $md-sys-state-hover-opacity;
  }
  
  &:focus::before {
    opacity: $md-sys-state-focus-opacity;
  }
  
  &:active::before {
    opacity: $md-sys-state-pressed-opacity;
  }
}

// Filled button (Primary)
@mixin md-comp-filled-button {
  @include md-comp-button-base;
  background-color: var(--md-sys-color-primary, $md-sys-color-primary);
  color: var(--md-sys-color-on-primary, $md-sys-color-on-primary);
  box-shadow: $md-sys-elevation-level0;
  
  &::before {
    background-color: var(--md-sys-color-on-primary, $md-sys-color-on-primary);
  }
  
  &:hover {
    box-shadow: $md-sys-elevation-level1;
  }
  
  &:disabled {
    background-color: rgba($md-sys-color-on-surface, 0.12);
    color: rgba($md-sys-color-on-surface, 0.38);
    box-shadow: $md-sys-elevation-level0;
  }
}

// Outlined button
@mixin md-comp-outlined-button {
  @include md-comp-button-base;
  background-color: transparent;
  color: var(--md-sys-color-primary, $md-sys-color-primary);
  border: 1px solid var(--md-sys-color-outline, $md-sys-color-outline);
  
  &::before {
    background-color: var(--md-sys-color-primary, $md-sys-color-primary);
  }
  
  &:disabled {
    color: rgba($md-sys-color-on-surface, 0.38);
    border-color: rgba($md-sys-color-on-surface, 0.12);
  }
}

// Text button
@mixin md-comp-text-button {
  @include md-comp-button-base;
  background-color: transparent;
  color: var(--md-sys-color-primary, $md-sys-color-primary);
  
  &::before {
    background-color: var(--md-sys-color-primary, $md-sys-color-primary);
  }
  
  &:disabled {
    color: rgba($md-sys-color-on-surface, 0.38);
  }
}

// Button sizes
@mixin md-comp-button-size-small {
  padding: $md-sys-spacing-2 $md-sys-spacing-3;
  min-height: 32px;
  @include md-typescale-label-medium;
}

@mixin md-comp-button-size-medium {
  padding: $md-sys-spacing-2 $md-sys-spacing-6;
  min-height: 40px;
  @include md-typescale-label-large;
}

@mixin md-comp-button-size-large {
  padding: $md-sys-spacing-3 $md-sys-spacing-8;
  min-height: 48px;
  @include md-typescale-label-large;
}

// Surface mixins
@mixin md-surface($level: 0) {
  @if $level == 0 {
    background-color: $md-sys-color-surface;
    box-shadow: $md-sys-elevation-level0;
  } @else if $level == 1 {
    background-color: $md-sys-color-surface-container-low;
    box-shadow: $md-sys-elevation-level1;
  } @else if $level == 2 {
    background-color: $md-sys-color-surface-container;
    box-shadow: $md-sys-elevation-level2;
  } @else if $level == 3 {
    background-color: $md-sys-color-surface-container-high;
    box-shadow: $md-sys-elevation-level3;
  } @else if $level == 4 {
    background-color: $md-sys-color-surface-container-highest;
    box-shadow: $md-sys-elevation-level4;
  } @else if $level == 5 {
    background-color: $md-sys-color-surface-container-highest;
    box-shadow: $md-sys-elevation-level5;
  }
}

// Responsive breakpoint mixins
@mixin md-breakpoint-up($breakpoint) {
  @if $breakpoint == xs {
    @media (min-width: #{$md-breakpoint-xs}) { @content; }
  } @else if $breakpoint == sm {
    @media (min-width: #{$md-breakpoint-sm}) { @content; }
  } @else if $breakpoint == md {
    @media (min-width: #{$md-breakpoint-md}) { @content; }
  } @else if $breakpoint == lg {
    @media (min-width: #{$md-breakpoint-lg}) { @content; }
  } @else if $breakpoint == xl {
    @media (min-width: #{$md-breakpoint-xl}) { @content; }
  }
}

@mixin md-breakpoint-down($breakpoint) {
  @if $breakpoint == xs {
    @media (max-width: #{$md-breakpoint-sm - 1px}) { @content; }
  } @else if $breakpoint == sm {
    @media (max-width: #{$md-breakpoint-md - 1px}) { @content; }
  } @else if $breakpoint == md {
    @media (max-width: #{$md-breakpoint-lg - 1px}) { @content; }
  } @else if $breakpoint == lg {
    @media (max-width: #{$md-breakpoint-xl - 1px}) { @content; }
  }
}

// Utility mixins
@mixin md-visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

@mixin md-truncate-text {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin md-reset-button {
  background: none;
  border: none;
  padding: 0;
  font: inherit;
  cursor: pointer;
  outline: inherit;
}

@mixin md-reset-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
